<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">



<h:head>
	<title>Ola jsf</title>
</h:head>

<h:body>
	<div class="card">

		<h:graphicImage height="75" width="100" library="img" name="jsp.logo.png"/>

		
			<ui:include src="/menu.xhtml" />
		
		
			<h:form id="formPessoa" enctype="multipart/form-data">
			
			<h:messages />
			
            		Cadastro de Usuario
		<p:panelGrid columns="2"
			columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
			layout="grid" 
			style="border:0px none; background-color:transparent;">
			
				<h:outputLabel value="Foto : "/>
				<h:inputFile id="foto" value="#{pessoaBean.arquivoFoto}"></h:inputFile>

				<h:outputLabel value="id :" />
				<h:inputText id="id" value="#{pessoaBean.pessoa.id}" readonly="true" />
				<h:outputLabel value="Nome :" />
				<h:inputText id="nome" value="#{pessoaBean.pessoa.nome}" required="true" requiredMessage="Informe nome do usuário" validatorMessage="Minimo 6 digitos">
					<f:validateLength minimum="6" pt:placeholder="Informe o Nome"/>
				</h:inputText>

				<h:outputLabel value="Sobrenome" />
				<h:inputText id="sobrenome" value="#{pessoaBean.pessoa.sobrenome}" valueChangeListener="#{pessoaBean.mudancaDeValor}" />

				<h:outputLabel value="Idade :" />
				<h:inputText id="idade" value="#{pessoaBean.pessoa.idade}" />
				
				<h:outputLabel value="Sexo :" />
				<h:selectOneMenu id="campoSexo" value="#{pessoaBean.pessoa.sexo}">
					<f:selectItem itemValue="NAO ESPECIFICADO" itemLabel="[-Selecione-]" noSelectionOption="true"/>
					<f:selectItem itemValue="MASCULINO" itemLabel="Masculino" />
					<f:selectItem itemValue="FEMININO" itemLabel="Feminino"/>
				</h:selectOneMenu>

				<h:outputLabel value="Nascimento"/>
				<h:inputText value="#{pessoaBean.pessoa.dataNascimento}" converterMessage="Data errada"> 
					<f:convertDateTime pattern="dd/MM/yyyy" locale="pt_BR" timeZone="GMT-03:00"/>
				</h:inputText>

				<p:outputLabel value="Frameworks :" />
				<h:selectManyMenu id="campoFrameworks" value="#{pessoaBean.pessoa.frameWorks}" style="height:150px;">
					<f:selectItem itemValue="Hibernate"/>
					<f:selectItem itemValue="Spring MVC"/>
					<f:selectItem itemValue="Jpa"/>
					<f:selectItem itemValue="PrimeFaces"/>
					<f:selectItem itemValue="JSF"/>
				</h:selectManyMenu>
				
				<p:outputLabel value="Ativo :"/>
				<h:selectBooleanCheckbox value="#{pessoaBean.pessoa.ativo}"/>
				
				<p:outputLabel value="Cep : "/>
				<p:inputText value="#{pessoaBean.pessoa.cep}">
					<f:ajax event="blur" execute="@this" listener="#{pessoaBean.pesquisarCep}" 
					render="complemento bairro localidade uf ibge gia ddd siafi logradouro"/>
				</p:inputText>
				
				<p:outputLabel value="Logradouro :" />
				<p:inputText  value="#{pessoaBean.pessoa.logradouro}" id="logradouro"/>
				
				<p:outputLabel value="complemento :" />
				<p:inputText  value="#{pessoaBean.pessoa.complemento}" id="complemento"/>
				
				<p:outputLabel value="bairro :"/>
				<p:inputText  value="#{pessoaBean.pessoa.bairro}" id="bairro"/>
				
				<p:outputLabel value="localidade :"/>
				<p:inputText  value="#{pessoaBean.pessoa.localidade}" id="localidade"/>
				
				<p:outputLabel value="uf :"/>
				<p:inputText  value="#{pessoaBean.pessoa.uf}" id="uf"/>
				
				<p:outputLabel value="ibge :"/>
				<p:inputText  value="#{pessoaBean.pessoa.ibge}" id="ibge"/>
				
				<p:outputLabel value="gia :"/>
				<p:inputText  value="#{pessoaBean.pessoa.gia}" id="gia"/>
				
				<p:outputLabel value="ddd :"/>
				<p:inputText  value="#{pessoaBean.pessoa.ddd}" id="ddd"/>
				
				<p:outputLabel value="siafi :"/>
				<p:inputText  value="#{pessoaBean.pessoa.siafi}" id="siafi"/>
				
				<p:outputLabel value="Login :"/>
				<p:inputText id="login" value="#{pessoaBean.pessoa.login}"/>
				
				<p:outputLabel value="Senha :"/>
				<h:inputSecret id="senha" value="#{pessoaBean.pessoa.senha}"/>
				
				<p:outputLabel value="Perfil :" />
				<h:selectOneMenu id="campoPerfil" value="#{pessoaBean.pessoa.perfilUser}">
					<f:selectItem itemValue="NAO ESPECIFICADO" itemLabel="[-Selecione-]" noSelectionOption="true"/>
					<f:selectItem itemValue="ADMINISTRADOR" itemLabel="Administrador" />
					<f:selectItem itemValue="RECEPCIONISTA" itemLabel="Recepcionista"/>
					<f:selectItem itemValue="SECRETARIO" itemLabel="Secretario"/>
					<f:selectItem itemValue="DESENVOLVEDOR" itemLabel="Desenvolvedor"/>
				</h:selectOneMenu>
				
				<p:outputLabel value="Nivel Programador :"/>
				<h:selectOneRadio value="#{pessoaBean.pessoa.nivelProgramador}" layout="pageDirection">
					<f:selectItem itemValue="J" itemLabel="Junior"/>
					<f:selectItem itemValue="P" itemLabel="Pleno"/>
					<f:selectItem itemValue="S" itemLabel="Senior"/>
					<f:selectItem itemValue="E" itemLabel="Especialista"/>
				</h:selectOneRadio>	
				
				<p:outputLabel value="Linguagens"/>
				<h:selectManyCheckbox value="#{pessoaBean.pessoa.linguagens}">
					<f:selectItem itemValue="1" itemLabel="Java"/>
					<f:selectItem itemValue="2" itemLabel="PHP"/>
					<f:selectItem itemValue="3" itemLabel="Pyton"/>
					<f:selectItem itemValue="4" itemLabel="C#"/>
					<f:selectItem itemValue="5" itemLabel="Cobol"/>
				</h:selectManyCheckbox>
				
				<h:outputLabel value="Estados: "/>
				<h:selectOneMenu value="#{pessoaBean.pessoa.estados}" immediate="true" id="comboEstados" converter="estadoConverter">
					<f:selectItem itemLabel="--[Selecione]--" noSelectionOption="true"/>
					<f:selectItems value="#{pessoaBean.estados}"/>
					<f:ajax event="change" execute="@this" listener="#{pessoaBean.pesquisarCidades}" render="comboCidade"/>
				</h:selectOneMenu>
				
				<h:outputLabel value="Cidades :"/>
				<h:selectOneMenu value="#{pessoaBean.pessoa.cidades}" id="comboCidade" immediate="true" converter="cidadeConverter">
					<f:selectItem itemLabel="--[Selecione]--" noSelectionOption="true"/>
					<f:selectItems value="#{pessoaBean.cidades}"/>
				</h:selectOneMenu>
				
				</p:panelGrid>
				<p:row>
				
					<p:column styleClass="ui-grid-col-12">
						<h:commandButton action="#{pessoaBean.salvar}" actionListener="#{pessoaBean.registrarLog}" value="Salvar" image="/resources/img/salvar.png" title="Salvar"/>
						<h:commandButton id="botaoNovo" action="#{pessoaBean.novo}" value="Novo" image="/resources/img/novo.png" title="Novo">
							<f:ajax execute="botaoNovo" render="@form"/>
						</h:commandButton>
						<h:commandButton action="#{pessoaBean.excluir}" value="Excluir" image="/resources/img/excluir.png" title="Excluir"/>
					</p:column>
				</p:row>
				
				</h:form>
				
				<h:form>
				<h:dataTable value="#{pessoaBean.pessoas}" var="p" border="3" cellpadding="6">
				
					<f:facet name="header">
						Lista de pessoas Cadastradas
					</f:facet>
					
					<h:column>
						<f:facet name="header">id</f:facet>
						<h:outputText value="#{p.id}" />
					</h:column>
					<h:column>
						<f:facet name="header">Nome</f:facet>
						<h:outputText value="#{p.nome}" />
					</h:column>
					<h:column>
						<f:facet name="header">Foto :</f:facet>
						<h:commandLink actionListener="#{pessoaBean.download}">
							<h:graphicImage width="60" height="60" value="#{p.fotoIconBase64}"/>
							<f:param name="fileDownloadId" value="#{p.id}"/>
						</h:commandLink>
					</h:column>
					<h:column>
						<f:facet name="header">Sobrenome</f:facet>
						<h:outputText value="#{p.sobrenome}" />
					</h:column>
						<h:column>
						<f:facet name="header">Sexo</f:facet>
						<h:outputText value="#{p.sexo}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							Edicao
						</f:facet>
						<h:commandLink action="#{pessoaBean.editar}">
							<f:setPropertyActionListener value="#{p}" target="#{pessoaBean.pessoa}" />
							<h:graphicImage library="img" name="editar.png" title="Editar"/>
						</h:commandLink>
					</h:column>
					<h:column>
						<f:facet name="header">Exclusao</f:facet>
						<h:commandLink action="#{pessoaBean.excluir}" >
							<f:setPropertyActionListener value="#{p}" target="#{pessoaBean.pessoa}" />
							<h:graphicImage library="img" name="excluir.png" title="Excluir"/>
						</h:commandLink>
					</h:column>

				</h:dataTable>
		</h:form>
			
	</div>

	<p:chart type="bar" model="#{pessoaBean.barChartModel}"/>

</h:body>

</html>